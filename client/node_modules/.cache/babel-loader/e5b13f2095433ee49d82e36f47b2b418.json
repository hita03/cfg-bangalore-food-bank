{"ast":null,"code":"import { products } from './products';\nexport const reducer = (state, action) => {\n  if (action.type === \"REMOVE_ITEM\") {\n    return { ...state,\n      item: state.item.filter(curElem => {\n        return curElem.id !== action.payload;\n      })\n    };\n  }\n\n  if (action.type === \"CLEAR_CART\") {\n    return { ...state,\n      item: products\n    };\n  }\n\n  if (action.type === \"INCREMENT\") {\n    const updatedCart = state.item.map(curElem => {\n      if (curElem.id === action.payload) {\n        return { ...curElem,\n          quantity: curElem.quantity + 1\n        };\n      }\n\n      return curElem;\n    });\n    return { ...state,\n      item: updatedCart\n    };\n  }\n\n  if (action.type === \"DECREMENT\") {\n    const updatedCart = state.item.map(curElem => {\n      if (curElem.id === action.payload) {\n        if (curElem.quantity > 0) return { ...curElem,\n          quantity: curElem.quantity - 1\n        };\n      }\n\n      return curElem;\n    }); // .filter((curElem) => curElem.quantity !== 0);\n\n    return { ...state,\n      item: updatedCart\n    };\n  }\n\n  if (action.type === \"GET_TOTAL\") {\n    let {\n      totalItem,\n      totalAmount\n    } = state.item.reduce((accum, curVal) => {\n      let {\n        price,\n        quantity\n      } = curVal;\n      let updatedTotalAmount = price * quantity;\n      accum.totalAmount += updatedTotalAmount;\n      accum.totalItem += quantity;\n      return accum;\n    }, {\n      totalItem: 0,\n      totalAmount: 0\n    });\n    return { ...state,\n      totalItem,\n      totalAmount\n    };\n  }\n\n  return state;\n};","map":{"version":3,"names":["products","reducer","state","action","type","item","filter","curElem","id","payload","updatedCart","map","quantity","totalItem","totalAmount","reduce","accum","curVal","price","updatedTotalAmount"],"sources":["/Users/hitajuneja/Documents/GitHub/team-55/client/src/components/cart/reducer.js"],"sourcesContent":["import {products} from './products';\n\nexport const reducer = (state, action) => {\n    if (action.type === \"REMOVE_ITEM\") {\n      return {\n        ...state,\n        item: state.item.filter((curElem) => {\n          return curElem.id !== action.payload;\n        }),\n      };\n    }\n  \n    if (action.type === \"CLEAR_CART\") {\n      return { ...state, item: products };\n    }\n  \n    if (action.type === \"INCREMENT\") {\n      const updatedCart = state.item.map((curElem) => {\n        if (curElem.id === action.payload) {\n          return { ...curElem, quantity: curElem.quantity + 1 };\n        }\n        return curElem;\n      });\n  \n      return { ...state, item: updatedCart };\n    }\n  \n    if (action.type === \"DECREMENT\") {\n      const updatedCart = state.item\n        .map((curElem) => {\n          if (curElem.id === action.payload) {\n            if(curElem.quantity>0)\n            return { ...curElem, quantity: curElem.quantity - 1 };\n          }\n          return curElem;\n        })\n        // .filter((curElem) => curElem.quantity !== 0);\n      return { ...state, item: updatedCart };\n    }\n  \n    if (action.type === \"GET_TOTAL\") {\n      let { totalItem, totalAmount } = state.item.reduce(\n        (accum, curVal) => {\n          let { price, quantity } = curVal;\n  \n          let updatedTotalAmount = price * quantity;\n          accum.totalAmount += updatedTotalAmount;\n  \n          accum.totalItem += quantity;\n          return accum;\n        },\n        {\n          totalItem: 0,\n          totalAmount: 0,\n        }\n      );\n      return { ...state, totalItem, totalAmount };\n    }\n    return state;\n  };"],"mappings":"AAAA,SAAQA,QAAR,QAAuB,YAAvB;AAEA,OAAO,MAAMC,OAAO,GAAG,CAACC,KAAD,EAAQC,MAAR,KAAmB;EACtC,IAAIA,MAAM,CAACC,IAAP,KAAgB,aAApB,EAAmC;IACjC,OAAO,EACL,GAAGF,KADE;MAELG,IAAI,EAAEH,KAAK,CAACG,IAAN,CAAWC,MAAX,CAAmBC,OAAD,IAAa;QACnC,OAAOA,OAAO,CAACC,EAAR,KAAeL,MAAM,CAACM,OAA7B;MACD,CAFK;IAFD,CAAP;EAMD;;EAED,IAAIN,MAAM,CAACC,IAAP,KAAgB,YAApB,EAAkC;IAChC,OAAO,EAAE,GAAGF,KAAL;MAAYG,IAAI,EAAEL;IAAlB,CAAP;EACD;;EAED,IAAIG,MAAM,CAACC,IAAP,KAAgB,WAApB,EAAiC;IAC/B,MAAMM,WAAW,GAAGR,KAAK,CAACG,IAAN,CAAWM,GAAX,CAAgBJ,OAAD,IAAa;MAC9C,IAAIA,OAAO,CAACC,EAAR,KAAeL,MAAM,CAACM,OAA1B,EAAmC;QACjC,OAAO,EAAE,GAAGF,OAAL;UAAcK,QAAQ,EAAEL,OAAO,CAACK,QAAR,GAAmB;QAA3C,CAAP;MACD;;MACD,OAAOL,OAAP;IACD,CALmB,CAApB;IAOA,OAAO,EAAE,GAAGL,KAAL;MAAYG,IAAI,EAAEK;IAAlB,CAAP;EACD;;EAED,IAAIP,MAAM,CAACC,IAAP,KAAgB,WAApB,EAAiC;IAC/B,MAAMM,WAAW,GAAGR,KAAK,CAACG,IAAN,CACjBM,GADiB,CACZJ,OAAD,IAAa;MAChB,IAAIA,OAAO,CAACC,EAAR,KAAeL,MAAM,CAACM,OAA1B,EAAmC;QACjC,IAAGF,OAAO,CAACK,QAAR,GAAiB,CAApB,EACA,OAAO,EAAE,GAAGL,OAAL;UAAcK,QAAQ,EAAEL,OAAO,CAACK,QAAR,GAAmB;QAA3C,CAAP;MACD;;MACD,OAAOL,OAAP;IACD,CAPiB,CAApB,CAD+B,CAS7B;;IACF,OAAO,EAAE,GAAGL,KAAL;MAAYG,IAAI,EAAEK;IAAlB,CAAP;EACD;;EAED,IAAIP,MAAM,CAACC,IAAP,KAAgB,WAApB,EAAiC;IAC/B,IAAI;MAAES,SAAF;MAAaC;IAAb,IAA6BZ,KAAK,CAACG,IAAN,CAAWU,MAAX,CAC/B,CAACC,KAAD,EAAQC,MAAR,KAAmB;MACjB,IAAI;QAAEC,KAAF;QAASN;MAAT,IAAsBK,MAA1B;MAEA,IAAIE,kBAAkB,GAAGD,KAAK,GAAGN,QAAjC;MACAI,KAAK,CAACF,WAAN,IAAqBK,kBAArB;MAEAH,KAAK,CAACH,SAAN,IAAmBD,QAAnB;MACA,OAAOI,KAAP;IACD,CAT8B,EAU/B;MACEH,SAAS,EAAE,CADb;MAEEC,WAAW,EAAE;IAFf,CAV+B,CAAjC;IAeA,OAAO,EAAE,GAAGZ,KAAL;MAAYW,SAAZ;MAAuBC;IAAvB,CAAP;EACD;;EACD,OAAOZ,KAAP;AACD,CAzDI"},"metadata":{},"sourceType":"module"}